{
    "contents" : "corr <- function(directory, threshold=0){\n  files_list <- list.files(directory, full.names=TRUE)\n  data <- data.frame()\n  for (i in 1:threshold){\n    data <- rbind(data, read.csv(files_list[i]))\n  }\n  data_comp <- data[complete.cases(data),]\n  cr <- cor(data_comp[,\"nitrate\"], data_comp[,\"sulfate\"])\n  cr\n}\n\n## this isn't giving me what I want, because it is calling the first 150 files\n## should be the first 150 complete cases makes the threshold!\ncorr <- function(directory, threshold=0){\n  files_list <- list.files(directory, full.names=TRUE)\n  data <- data.frame()\n  for (i in 1:threshold){\n    data <- rbind(data, read.csv(files_list[i]))\n  }\n  data_comp <- data[complete.cases(data),]\n  thres_data <- data_comp[1:150,]\n  cr <- cor(thres_data[,\"nitrate\"], thres_data[,\"sulfate\"])\n  cr\n}\n## still not working because: It has to test the MONITORS\n## ie monitors must have above the threshold number of complete cases, to be included in the correlation\n\n## here is how to just get one of them:\nfiles_list <- list.files(directory, full.names=TRUE)\ndata <- data.frame()\ndata <- rbind(data, read.csv(files_list[2]))\ndata_comp <- data[complete.cases(data),] ## this line will be taken care of when doing multiple I think\ncr <- cor(thres_data[,\"nitrate\"], thres_data[,\"sulfate\"])\n\n## so here is what we need to do:\n## 1) Evaluate each file for meeting the threshold of complete cases( use complete.R for this)\n## 2) Take the above threshold files and get the cor value for all of them, idividually\n## 3) put each of these values into an object, using the subset with a loop i think\n## 3) get it to return those values, enabling a vector with multiple entries\n\ncorr <- function(directory, threshold=0){\n  comp_list <- complete(directory, 1:332)\n  for (i in 1:332) {\n    if (comp_list[i,\"nobs\"]>= threshold){ ## something is wrong in this if statement\n      abv_thres <- read.csv(files_list[i])\n      corr_values[i] <- cor(abv_thres[,\"sulfate\"], abv_thres[,\"nitrate\"])\n      }\n    }\n}\n",
    "created" : 1421201597834.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2428487659",
    "id" : "1913620C",
    "lastKnownWriteTime" : 1421207032,
    "path" : "C:/Users/cferguson/Desktop/Coursera/R-Programming/week2/corr.R",
    "project_path" : "corr.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}